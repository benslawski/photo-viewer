<html>
   <head>
     <script src="http://d3js.org/d3.v2.js"></script>
     <title>{% block title %}My Site{% endblock %}</title>
         <style type="text/css">
             body {background-color:#20232C;} 
         </style>
   </head>
   <body>
     <div id="color_circles" style="position:relative; float:center;"></div>
     <script type="text/javascript">
         var canvas = d3.select("#color_circles").append("svg")
                                                 .attr("width", 1024)
                                                 .attr("height", 768)
         ;

         var circles = [];
 
         var colors = [
                       "#D2DFFF",
                       "#339999",
                       "#11204B",
                       "#232531",
                       "#111222"
                      ];

         var circle_colors = colors.slice();
         var bg_color = "#232531";
         circle_colors.splice(colors.indexOf(bg_color), 1);

         function drawCircles() {
             canvas.selectAll("circle").transition().attr("fill", function (d, i) { return circle_colors[i]; })
             d3.select("body").transition().style("background-color", bg_color);
         };

         circles = canvas.selectAll("circle")
                         .data(circle_colors)
                         .enter()
                         .append("circle")
                                .attr("cx", 924)
                                .attr("cy", function (d, i) { return 60 + i*45; })
                                .attr("r", 20)
                                .attr("fill", function (d) {return d;})
                                .on("click", function (d, i) {
                                                              tmp = colors.slice();
                                                              bg_color = tmp.splice(colors.indexOf(circle_colors[i]), 1);
                                                              circle_colors = tmp;
                                                              drawCircles();
                                                             })
         ;

     </script>
 
     <div id="header">{% block header %}{% endblock %}</div>
     <div id="content">{% block content %}{% endblock%}</div>
     <div id="footer">{% block footer %}{% endblock%}</div>
   </body>
</html>
